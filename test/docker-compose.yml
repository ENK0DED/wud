version: '3'

services:

    nginx_latest:
        image: nginx
        container_name: nginx
        labels:
            - wud.watch=true
            - wud.watch.digest=true

    portainer:
        image: portainer/portainer-ce:2.5.0-alpine
        container_name: portainer
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^\d+\.\d+.\d+-alpine$$'

    homeassistant:
        image: homeassistant/home-assistant:2021.6.4
        container_name: homeassistant
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^\d+\.\d+.\d+$$'

    traefik:
        image: traefik:2.4.5
        container_name: traefik
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^\d+\.\d+.\d+$$'

    mariadb:
        image: mariadb:10.5.1
        container_name: mariadb
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^\d+\.\d+.\d+$$'

    pihole:
        image: pihole/pihole:v5.7
        container_name: pihole
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^\d+\.\d+.\d+$$'

    vaultwarden:
        image: vaultwarden/server:1.21.0-alpine
        container_name: pihole
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^\d+\.\d+.\d+-alpine$$'

    pyload:
        image: writl/pyload
        container_name: pyload
        labels:
            - 'wud.watch=true'
            - 'wud.tag.include=^latest$$'